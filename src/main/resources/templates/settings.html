<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
        lang="en">
<head>
    <meta charset="UTF-8">
    <title>Settings</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
          integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
</head>
<link rel="stylesheet" href="/css/settings.css">
<script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
</head>
<body>

<div th:replace="fragment/navbar"></div>

<div class="container p-5 mt-5">
    <div class="row main-row">
        <div class="col-md-8 p-3 shadow-lg main-col">
            <div class="row">
                <div class="col-md-12">
                    <div>
                        <h3>Account Settings</h3>
                        <div class="line-cen mb-3 mt-3 rounded"></div>
                    </div>
                </div>
            </div>
            <div class="row w-100 ">
                <div class="col-md-6 mt-4">
                    <input class="input-item w-100" type="text" placeholder="Username" th:value="${user.username}">
                </div>
                <div class="col-md-6 mt-4">
                    <input class="input-item w-100" type="text" placeholder="Email" th:value="${user.email}">
                </div>
            </div>
            <div class="row w-100">
                <div class="col-md-6 mt-4">
                    <input class="input-item w-100" type="password" placeholder="New Password">
                </div>
                <div class="col-md-6 mt-4">
                    <input class="input-item w-100" type="password" placeholder="Confirm Password">
                </div>
            </div>

            <div class="row w-100">
                <div class="col-md-12">
                    <div class="avatar-wrapper">
                        <img class="profile-pic" th:src="${'data:image/png;base64, ' + user.photo}"/>
                        <div class="upload-button">
                            <i class="fa fa-arrow-circle-up" aria-hidden="true"></i>
                        </div>
                        <input class="file-upload" type="file" accept="image/*"/>
                    </div>
                </div>
            </div>
            <div class="row w-100">
                <form method="post">
                    <div class="col-md-6 mt-2">
                        <div class="col-up">
                            <input class="update" type="password" placeholder="Password" name="password">
                        </div>
                    </div>
                    <div class="col-md-6 mt-2">
                        <div class="profile-card-ctr mb-3">
                            <button type="submit" class="profile-card__button button--blue js-message-btn">Save</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {

        var readURL = function (input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.onload = function (e) {
                    $('.profile-pic').attr('src', e.target.result);
                }

                reader.readAsDataURL(input.files[0]);
            }
        }

        $(".file-upload").on('change', function () {
            readURL(this);
        });

        $(".upload-button").on('click', function () {
            $(".file-upload").click();
        });
    });
</script>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

</body>
</html>